"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DEFAULT_ACHIEVEMENTS = exports.userAchievements = exports.achievementDefinitions = exports.achievementTypeEnum = void 0;
const pg_core_1 = require("drizzle-orm/pg-core");
const users_1 = require("./users");
const competitions_1 = require("./competitions");
exports.achievementTypeEnum = (0, pg_core_1.pgEnum)('achievement_type', [
    'first_trade',
    'profit_10',
    'profit_25',
    'profit_50',
    'profit_100',
    'diamond_hands',
    'day_trader',
    'diversified',
    'market_master',
    'early_bird',
    'night_owl',
    'comeback_king',
    'winning_streak',
    'volume_trader',
    'top_10',
    'top_3',
    'champion',
]);
exports.achievementDefinitions = (0, pg_core_1.pgTable)('achievement_definitions', {
    id: (0, pg_core_1.text)('id').primaryKey(),
    name: (0, pg_core_1.text)('name').notNull(),
    description: (0, pg_core_1.text)('description').notNull(),
    icon: (0, pg_core_1.text)('icon').notNull(),
    category: (0, pg_core_1.text)('category').notNull(),
    points: (0, pg_core_1.integer)('points').default(10).notNull(),
    rarity: (0, pg_core_1.text)('rarity').default('common').notNull(),
    isSecret: (0, pg_core_1.boolean)('is_secret').default(false).notNull(),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow().notNull(),
});
exports.userAchievements = (0, pg_core_1.pgTable)('user_achievements', {
    id: (0, pg_core_1.uuid)('id').primaryKey().defaultRandom(),
    userId: (0, pg_core_1.uuid)('user_id').notNull().references(() => users_1.users.id, { onDelete: 'cascade' }),
    competitionId: (0, pg_core_1.uuid)('competition_id').references(() => competitions_1.competitions.id, { onDelete: 'cascade' }),
    achievementId: (0, pg_core_1.text)('achievement_id').notNull().references(() => exports.achievementDefinitions.id),
    earnedAt: (0, pg_core_1.timestamp)('earned_at').defaultNow().notNull(),
    metadata: (0, pg_core_1.text)('metadata'),
});
exports.DEFAULT_ACHIEVEMENTS = [
    {
        id: 'first_trade',
        name: 'First Trade',
        description: 'Complete your first trade',
        icon: 'ğŸ¯',
        category: 'milestone',
        points: 10,
        rarity: 'common',
        isSecret: false,
    },
    {
        id: 'profit_10',
        name: 'Rising Star',
        description: 'Achieve 10% portfolio profit',
        icon: 'â­',
        category: 'profit',
        points: 25,
        rarity: 'common',
        isSecret: false,
    },
    {
        id: 'profit_25',
        name: 'Profit Pro',
        description: 'Achieve 25% portfolio profit',
        icon: 'ğŸ’«',
        category: 'profit',
        points: 50,
        rarity: 'uncommon',
        isSecret: false,
    },
    {
        id: 'profit_50',
        name: 'Market Wizard',
        description: 'Achieve 50% portfolio profit',
        icon: 'ğŸ§™',
        category: 'profit',
        points: 100,
        rarity: 'rare',
        isSecret: false,
    },
    {
        id: 'profit_100',
        name: 'Legend',
        description: 'Double your portfolio (100% profit)',
        icon: 'ğŸ‘‘',
        category: 'profit',
        points: 250,
        rarity: 'legendary',
        isSecret: false,
    },
    {
        id: 'diamond_hands',
        name: 'Diamond Hands',
        description: 'Hold a position through 20% drawdown without selling',
        icon: 'ğŸ’',
        category: 'trading',
        points: 50,
        rarity: 'rare',
        isSecret: false,
    },
    {
        id: 'day_trader',
        name: 'Day Trader',
        description: 'Complete 10 trades in a single day',
        icon: 'ğŸ“Š',
        category: 'trading',
        points: 30,
        rarity: 'uncommon',
        isSecret: false,
    },
    {
        id: 'diversified',
        name: 'Diversified',
        description: 'Hold positions in 5 or more different stocks',
        icon: 'ğŸŒˆ',
        category: 'trading',
        points: 20,
        rarity: 'common',
        isSecret: false,
    },
    {
        id: 'market_master',
        name: 'Market Master',
        description: 'Trade every stock in the market at least once',
        icon: 'ğŸ†',
        category: 'milestone',
        points: 100,
        rarity: 'epic',
        isSecret: false,
    },
    {
        id: 'early_bird',
        name: 'Early Bird',
        description: 'Make a trade within the first hour of competition',
        icon: 'ğŸ¦',
        category: 'special',
        points: 15,
        rarity: 'uncommon',
        isSecret: false,
    },
    {
        id: 'comeback_king',
        name: 'Comeback King',
        description: 'Recover from a 15% loss to profit',
        icon: 'ğŸ¦',
        category: 'special',
        points: 75,
        rarity: 'rare',
        isSecret: true,
    },
    {
        id: 'winning_streak',
        name: 'Winning Streak',
        description: 'Make 5 profitable trades in a row',
        icon: 'ğŸ”¥',
        category: 'trading',
        points: 40,
        rarity: 'uncommon',
        isSecret: false,
    },
    {
        id: 'volume_trader',
        name: 'Volume Trader',
        description: 'Trade over Rs. 10,00,000 in total volume',
        icon: 'ğŸ“ˆ',
        category: 'milestone',
        points: 50,
        rarity: 'rare',
        isSecret: false,
    },
    {
        id: 'top_10',
        name: 'Top 10',
        description: 'Finish in the top 10 of a competition',
        icon: 'ğŸ¥‰',
        category: 'milestone',
        points: 100,
        rarity: 'epic',
        isSecret: false,
    },
    {
        id: 'top_3',
        name: 'Podium Finish',
        description: 'Finish in the top 3 of a competition',
        icon: 'ğŸ¥ˆ',
        category: 'milestone',
        points: 200,
        rarity: 'epic',
        isSecret: false,
    },
    {
        id: 'champion',
        name: 'Champion',
        description: 'Win a competition',
        icon: 'ğŸ¥‡',
        category: 'milestone',
        points: 500,
        rarity: 'legendary',
        isSecret: false,
    },
];
//# sourceMappingURL=achievements.js.map